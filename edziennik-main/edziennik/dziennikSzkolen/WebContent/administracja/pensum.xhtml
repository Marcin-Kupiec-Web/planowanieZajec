
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/BasicTemplate.html">

<ui:define name="content" >
	<p:outputPanel deferred="true" >
			<p:panel  class="m-3 shadow bg-white">
				<f:facet name="header">
          			  Pensum
          		<h:form id="formPensum">
          			<div class="ui-fluid" style="overflow:auto">
									    <div class="ui-g-3 ui-sm-12" >
		                							<p:selectOneMenu id="sot" rendered="#{logowanie.poziomUprawnien eq 1 or logowanie.poziomUprawnien eq 6}"
						  								value="#{pensum.userAdminSelect}" editable="true" filter="true" filterMatchMode="contains" 
						  								required="true" style="width:99%">
														 <f:selectItems value="#{pensum.nauczyciele}" />
													</p:selectOneMenu>
		                				</div>
		                				 <div class="ui-g-2 ui-sm-12" >		                				
											<p:selectOneMenu id="rok" value="#{pensum.rokWybrany}"
													lazy="true" required="true" editable="true" filter="true" filterMatchMode="contains"
													 style="width:99%">
												<f:selectItems value="#{pensum.lata}" />
											</p:selectOneMenu>
		                				 </div>
		                				 <div  class="ui-g-2 ui-sm-12" >
												<p:commandButton value="Szukaj" actionListener="#{pensum.zmienMiesiacPodsumowanie}" onclick="PF('vtWidget').clearFilters()"  update=":formPensum,:formPensumLista:pensumTable" />
											
		                				 </div>
		              </div>				
				
				</h:form>
				<div style="clear:both;display:inline"></div>
        		</f:facet>
        		<h:form id="formPensumLista">
			    <p:dataTable id="pensumTable" var="pens" value="#{pensum.tematyList}" sortBy="#{pens.zrealizowaneCzas}" style="text-align:center" paginator="true"  
			    paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="{startRecord}-{endRecord} z {totalRecords} wpisÃ³w" reflow="true">
			    	<p:column filterBy="#{pens.zrealizowaneCzas}" sortBy="#{pens.zrealizowaneCzas}" filterMatchMode="contains" headerText="Data" groupRow="true">
			    			<h:outputText value="#{pens.zrealizowaneCzas}"/>
			    	</p:column>
			    	<p:column headerText="Godz.l." sortBy="#{pens.tematyGdzl}" filterBy="#{pens.tematyGdzl}">
			    			<h:outputText value="#{pens.tematyGdzl}"/>
			    	</p:column>
			    	<p:column headerText="Komp." sortBy="#{pens.pluton.kompania.nazwaKompania}" filterBy="#{pens.pluton.kompania.nazwaKompania}">
			    			<h:outputText value="#{pens.pluton.kompania.nazwaKompania}"/>
			    	</p:column>
			    	<p:column headerText="Plut." sortBy="#{pens.pluton.nazwaPluton}" filterBy="#{pens.pluton.nazwaPluton}">
			    			<h:outputText value="#{pens.pluton.nazwaPluton}"/>
			    	</p:column>
			    	<p:column headerText="Szkol." sortBy="#{pens.pluton.oznaczenieSzkolenia}" filterBy="#{pens.pluton.oznaczenieSzkolenia}">
			    			<h:outputText value="#{pens.pluton.oznaczenieSzkolenia}"/>
			    	</p:column>
			    	<p:column headerText="Temat" sortBy="#{pens.JM_tematy}/#{pens.JS_tematy}/#{pens.KPN_tematy}" filterBy="#{pens.JM_tematy}/#{pens.JS_tematy}/#{pens.KPN_tematy}" style="text-align:left" filterMatchMode="contains">
			    			<h:outputText value="#{pens.JM_tematy}"/>
			    			<h:outputText value="/#{pens.JS_tematy}" rendered="#{pens.JS_tematy!=null}"/>
			    			<h:outputText value="/#{pens.KPN_tematy}" rendered="#{pens.KPN_tematy!=null}"/>
			    	</p:column>
			    	<p:column headerText="WpisaÅ‚" sortBy="#{pens.ktoWpisal}" filterBy="#{pens.ktoWpisal}" style="text-align:left">
			    			<h:outputText value="#{pens.ktoWpisal}"/>
			    	</p:column>
			    	<p:column headerText="ZrealizowaÅ‚" sortBy="#{pens.ktoZrealizowal}" filterBy="#{pens.ktoZrealizowal}" filterMatchMode="contains" style="text-align:left">
			    			<h:outputText value="#{pens.ktoZrealizowal}"/>
			    	</p:column>
			    	<p:column headerText="Wpisano" sortBy="#{pens.dataWpisu}" filterBy="#{pens.dataWpisu}">
			    			<h:outputText value="#{pens.dataWpisu}"/>
			    	</p:column>
			    	<p:column headerText="Obecni" sortBy="#{pens.obecni}" filterBy="#{pens.obecni}">
			    			<h:outputText value="#{pens.obecni}"/>
			    	</p:column>
			    	<p:column headerText="Nieobec." sortBy="#{pens.nieobecni}" filterBy="#{pens.nieobecni}">
			    			<h:outputText value="#{pens.nieobecni}"/>
			    	</p:column>
			    </p:dataTable>
			    </h:form>
			</p:panel>
		</p:outputPanel>
</ui:define>
<ui:define name="footer"></ui:define>
</ui:composition>





