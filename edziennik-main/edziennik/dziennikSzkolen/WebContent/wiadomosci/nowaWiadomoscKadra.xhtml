<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/BasicTemplate.html">
	
<ui:define name="leftPane"></ui:define>
<ui:define name="content"> 
<p:outputPanel deferred="true" id="contentTrescZajecia">
				
		<div class="ui-fluid bg-light">
		    <div class="ui-g-12 ui-md-12 ui-lg-2" style="z-index:1">
				<ui:include src="/WEB-INF/templates/wiadomosciLeftPanel.html"/>
		    </div>
		    <div class="ui-g-12 ui-md-12 ui-lg-10 ui-g-nopad shadow bg-white"  style="min-height:100vh;padding:20px">
		 
						     <h:form id="formNowaWiadomosc" >
		    						<p:growl id="msgs" showDetail="true" />
						    <div class="ui-g">
		                	<div class="ui-g-12">
						            <h:outputLabel value="Tytuł : *" for="txt_tytul" class="m-2" />
						            <p:inputText id="txt_tytul" value="#{nowaWiadomoscKadra.wiadomosc.tytul}" required="true" style="width:100%"/>
						     </div>
						     <div class="ui-g-12">
						            <h:outputLabel value="Wiadomość: *" for="txt_tresc" class="m-2" />
					
						             <p:textEditor widgetVar="editor" id="txt_tresc" value="#{nowaWiadomoscKadra.wiadomosc.tresc}" height="300" placeholder="Wpisz wiadomość" required="true">
								        <f:facet name="toolbar">
								             <span class="ql-formats">
								                <button class="ql-bold"></button>
								                <button class="ql-italic"></button>
								                <button class="ql-underline"></button>
								                <button class="ql-strike"></button>
								            </span>
								            <span class="ql-formats">
								                <select class="ql-font"></select>
								                <select class="ql-size"></select>
								            </span>
								        </f:facet>
								    </p:textEditor>
						        </div> 
						        <div class="ui-g-12">
						        	 <h:outputLabel for="kadra" value="Kadra: *" class="m-2"/>						        	
						 			<p:autoComplete  id="kadra" multiple="true" value="#{nowaWiadomoscKadra.selectedUsers}" completeMethod="#{nowaWiadomoscKadra.completeAreaUs}"
				                        var="kad" itemLabel="#{kad.nazwiskoUsers} #{kad.imieUsers}" itemValue="#{kad}" forceSelection="true" converter="#{userConverter}"
				                         required="true">
				       				 </p:autoComplete>
        
						        </div>
						        	<div class="ui-g-12 m-2">
						            <p:commandButton id="btn_add" class="shadow" style="float:right;display:inline-block;width:30%;padding:10px" value="Wyślij" update="formNowaWiadomosc" action="#{nowaWiadomoscKadra.createNew()}" >
						                <p:collector value="#{nowaWiadomoscKadra.wiadomosc}" addTo="#{nowaWiadomoscKadra.wiadomosci}" unique="true" />
						            </p:commandButton>
						            <div style="clear: both"></div>
						            </div>
						       </div>
						       </h:form>
						    
		  			</div>
		  			<div style="clear:both"></div>
			</div>				
</p:outputPanel>
 </ui:define>
<ui:define name="footer"></ui:define>
</ui:composition>