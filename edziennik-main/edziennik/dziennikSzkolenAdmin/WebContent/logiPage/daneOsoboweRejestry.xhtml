<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/BasicTemplate.html">

<ui:define name="content">
	<h:form >
	<div class="shadow m-10 p-10" style="width:90%;margin:auto!important;">
			<div class="ui-g">
			    <div class="ui-g-12 ui-md-6 ui-lg-2">
			    		<h:outputLabel for="ido" value="Id. osoby: " />
			    		 <p:inputText id="ido" value="#{daneOsoboweRejestry.idoF}" style="width:100%"/>
			    </div>
			    <div class="ui-g-12 ui-md-6 ui-lg-2">
			    	<h:outputLabel for="dzialanie" value="Działanie: " />
			    	<p:inputText id="dzialanie" value="#{daneOsoboweRejestry.dzialanieF}" style="width:100%"/>	
			    </div>
			    <div class="ui-g-12 ui-md-6 ui-lg-2">
			    	<h:outputLabel for="dataOd" value="Data: " />
			    	<p:inputText id="dataOd" value="#{oddzialy.nazwiskoSluchacz}" style="width:100%"/>	
			    </div>
			        <div class="ui-g-12 ui-md-6 ui-lg-2">
			    		<h:outputLabel for="ip" value="IP.: " />
			    		 <p:inputText id="ip" value="#{daneOsoboweRejestry.ipF}" style="width:100%"/>
			    </div>
			        <div class="ui-g-12 ui-md-6 ui-lg-4">
			    	<h:outputLabel for="wpisujacy" value="Wpisujący: " />
			    	<p:inputText id="wpisujacy" value="#{daneOsoboweRejestry.wpisujacyF}" style="width:100%"/>	
			    </div>
			</div>
			
			<div class="ui-g">
			     <div class="ui-g-12 ui-md-6 ui-lg-6">
			    	 <h:outputLabel for="sesja" value="Sesja: " />
			    	 <p:inputText id="sesja" value="#{daneOsoboweRejestry.sesjaF}" style="width:100%"/>
			    </div>
			    <div class="ui-g-12 ui-md-6 ui-lg-6">
			    	 <h:outputLabel for="opis" value="Opis: " />
			    	 <p:inputTextarea id="opis"  value="#{daneOsoboweRejestry.opisF}" autoResize="false" style="width:100%"/>
			    </div>
			</div>
			
			 
			 <div class="ui-g">
			 	 <div class="ui-g-4 text-center">
			  		<p:commandButton value="Czyść" class="shadow" style="width:100%;padding:5px;margin:auto!important" 
			  		type="reset"  update="formLogi" />
				</div>
			 	 <div class="ui-g-8 text-center">
			  		<p:commandButton value="Szukaj" class="shadow" style="width:100%;padding:5px;margin:auto!important" 
			  		actionListener="#{daneOsoboweRejestry.findLogi}"  update="formLogi" />
				</div>
			 </div>
	</div>
</h:form>
		<h:form id="formLogi" style="margin-top:30px">
			<p:dataTable var="logi" value="#{daneOsoboweRejestry.logi}" widgetVar="logiWidgetTable"  id="dtLogi"
			 paginator="true" rowsPerPageTemplate="20,50,100,200,300" rows="20" rowKey="#{logi.idLogi}" emptyMessage="Brak danych!" 
			   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="{startRecord}-{endRecord} z {totalRecords} wpisów" class="my-tab-hover">
				<f:facet name="header">
					    <h:commandLink style="float:left;display:inline-block;margin-top:5px">
								<i class="fa fa-file-excel"
									style="font-size: larger; color: #a66c20"></i>
								<p:dataExporter type="xls" target="dtLogi"
									fileName="logi" />
					</h:commandLink>
				<span style="position:relative; top:5px">Rejestry - dane osobowe</span>
					<div style="clear:both"></div>
				</f:facet>
				<p:column filterBy="#{logi.idLogi}" style="width:5%;text-align:center;" sortBy="#{logi.idLogi}" headerText="Id." footerText="Id" 
				filterMatchMode="contains" filterValue="#{wpisyRejestry.filterValues['idLogi']}">
					<h:outputText value="#{logi.idLogi}"/>
				</p:column>
				<p:column filterBy="#{logi.dzialanie}" sortBy="#{logi.dzialanie}" headerText="Działanie" footerText="Działanie" 
				filterMatchMode="contains" filterValue="#{wpisyRejestry.filterValues['dzialanie']}">
					<h:outputText value="#{logi.dzialanie}"/>
				</p:column>
				<p:column filterBy="#{logi.data}" sortBy="#{logi.data}" headerText="Data" footerText="Data" filterMatchMode="contains"
				filterValue="#{wpisyRejestry.filterValues['data']}">
					<h:outputText  value="#{logi.data}">
					<f:convertDateTime  type="date" pattern="yyyy-MM-dd HH:mm:ss"/>
					</h:outputText>
			   </p:column>
				<p:column filterBy="#{logi.ip}" sortBy="#{logi.ip}" headerText="Ip" footerText="Ip" filterMatchMode="contains" 
				filterValue="#{wpisyRejestry.filterValues['ip']}">
					<h:outputText value="#{logi.ip}"/>
				</p:column>
				<p:column filterBy="#{logi.kto}" sortBy="#{logi.kto}" headerText="Wpisał" footerText="Wpisał" filterMatchMode="contains" 
				filterValue="#{wpisyRejestry.filterValues['kto']}">
					<h:outputText value="#{logi.kto}"/>
				</p:column>
				<p:column style="width:7%" filterBy="#{logi.idOsoba}" sortBy="#{logi.idOsoba}" headerText="Osoba" footerText="Osoba" 
				filterMatchMode="contains" filterValue="#{wpisyRejestry.filterValues['idOsoba']}">
					<h:outputText value="#{logi.idOsoba}"/>
				</p:column>
				<p:column filterBy="#{logi.sesja}" sortBy="#{logi.sesja}" headerText="Sesja" footerText="Sesja" filterMatchMode="contains" 
				filterValue="#{wpisyRejestry.filterValues['sesja']}">
					<h:outputText value="#{logi.sesja}"/>
				</p:column>
				<p:column filterBy="#{logi.opis}" sortBy="#{logi.opis}" headerText="Opis" footerText="Opis" filterMatchMode="contains" 
				filterValue="#{wpisyRejestry.filterValues['opis']}">
					<h:outputText value="#{logi.opis}"/>
				</p:column>
			</p:dataTable>
		</h:form>
		
</ui:define>
	<ui:define name="footer"></ui:define>
</ui:composition>
